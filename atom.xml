<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://gridea.drj.io</id>
    <title>Gridea</title>
    <updated>2021-04-08T06:51:16.590Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://gridea.drj.io"/>
    <link rel="self" href="https://gridea.drj.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://gridea.drj.io/images/avatar.png</logo>
    <icon>https://gridea.drj.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[redis æ•°æ®ç±»å‹  zset]]></title>
        <id>https://gridea.drj.io/post/redis-shu-ju-lei-xing-zset/</id>
        <link href="https://gridea.drj.io/post/redis-shu-ju-lei-xing-zset/">
        </link>
        <updated>2021-04-07T07:27:03.000Z</updated>
        <content type="html"><![CDATA[<h3 id=""></h3>
<p>å¢åŠ <br>
zadd å¾€æœ‰åºé›†åˆä¸­æ–°å¢æˆå‘˜ï¼Œéœ€è¦æŒ‡å®šè¯¥æˆå‘˜çš„åˆ†æ•°ï¼Œåˆ†æ•°å¯ä»¥æ˜¯æ•´å½¢æˆ–æµ®ç‚¹å‹ï¼Œå½“åˆ†æ•°ç›¸åŒæ—¶å€™ï¼Œç´¢å¼•ä¸‹æ ‡æŒ‰ç…§å­—å…¸æ’åºï¼š</p>
<pre><code>zadd key [NX|XX] [CH] [INCR] score member [score member ...]
 zadd myzset 0 a 1 b 
</code></pre>
<h3 id="-2"></h3>
<p>æŸ¥æ‰¾é›†åˆæˆå‘˜æ•°<br>
zcard è·å–æœ‰åºé›†åˆçš„æˆå‘˜æ•°ï¼š</p>
<pre><code>zcard key
</code></pre>
<h3 id="-3"></h3>
<p>è·å–æŒ‡å®šåˆ†æ•°åŒºé—´çš„æˆå‘˜æ•°<br>
zcount<br>
ä»æœ‰åºé›†åˆå†…è·å–æŒ‡å®šåˆ†æ•°åŒºé—´å†…çš„æˆå‘˜æ•°:</p>
<pre><code>zcount key min max
</code></pre>
<h3 id="-4"></h3>
<p>æ ¹æ®å­—å…¸æ’åºè¿”å›min ,maxä¹‹é—´çš„æ•°æ®é‡<br>
zlexcount</p>
<pre><code>zlexcount key min max
1.æ ¹æ®å­—å…¸æ•°æ®èŒƒå›´è¿”å›åŒºé—´å†…çš„é›†åˆå…ƒç´ 
zlexcount myzset [xxx [zzz
2.æ ¹æ®ä¸‹æ ‡ è¿”å›å…ƒç´  
zlexcount myzset - +
</code></pre>
<h3 id="-5"></h3>
<p>zrange<br>
æ ¹æ®ä¸‹æ ‡æŸ¥çœ‹é›†åˆå†…æ‰€æœ‰æˆå‘˜ï¼ˆåŠåˆ†æ•°ï¼‰ï¼Œ[start,stop]</p>
<pre><code>zrange key start stop [withscores]
</code></pre>
<h3 id="-6"></h3>
<p>zrangebylex<br>
æ ¹æ®å­—å…¸åŒºé—´è¿”å›æœ‰åºé›†åˆçš„æˆå‘˜<br>
min:å­—å…¸ä¸­æ’åºä½ç½®è¾ƒå°çš„æˆå‘˜,å¿…é¡»ä»¥&quot;[&quot; æˆ–è€…ä»¥&quot;(&quot;å¼€å¤´,å¯ä½¿ç”¨&quot;-&quot;ä»£æ›¿ï¼Œ &quot;[&quot;ä»£è¡¨é—­åŒºé—´ï¼Œ&quot;(&quot;ä»£è¡¨å¼€åŒºé—´ã€‚<br>
max:å­—å…¸ä¸­æ’åºä½ç½®è¾ƒå¤§çš„æˆå‘˜,å¿…é¡»ä»¥&quot;[&quot; æˆ–è€…ä»¥&quot;(&quot;å¼€å¤´,å¯ä½¿ç”¨&quot;+&quot;ä»£æ›¿ï¼Œ &quot;[&quot;ä»£è¡¨é—­åŒºé—´ï¼Œ&quot;(&quot;ä»£è¡¨å¼€åŒºé—´ã€‚<br>
ä¸è¦åœ¨åˆ†æ•°ä¸ä¸€è‡´çš„SortSeté›†åˆä¸­å»ä½¿ç”¨ ZRANGEBYLEX æŒ‡ä»¤,å› ä¸ºè·å–çš„ç»“æœå¹¶ä¸å‡†ç¡®ã€‚<br>
limit offset count: åˆ†ç‰‡æŸ¥è¯¢ï¼Œlimitä¸ºå…³é”®å­—ï¼Œoffsetè¡¨ç¤ºä»ç»“æœé›†çš„å“ªä¸ªä¸‹æ ‡å¼€å§‹åˆ†ç‰‡ï¼Œcountè¡¨ç¤ºåˆ†ç‰‡çš„æ•°æ®é‡ã€‚</p>
<pre><code>zrangebylex key min max [LIMIT offset count]
</code></pre>
<h3 id="-7"></h3>
<p>zscore è¿”å›æœ‰åºé›†åˆï¼Œæˆå‘˜çš„åˆ†æ•°å€¼ï¼Œä¸å­˜åœ¨çš„æˆå‘˜è¿”å›ç©ºï¼š</p>
<pre><code>zscore key member
</code></pre>
<h3 id="-8"></h3>
<p>zscanç”¨äºè¿­ä»£æœ‰åºé›†åˆä¸­çš„å…ƒç´ ï¼ˆåŒ…æ‹¬å…ƒç´ æˆå‘˜å’Œå…ƒç´ åˆ†å€¼ï¼‰å¹¶å°†åŒ¹é…åˆ°çš„å€¼è¿”å›</p>
<pre><code>zscan key cursor [MATCH pattern] [COUNT count]
zscan myzsetZ 0 match *
</code></pre>
<h3 id="-9"></h3>
<p>zrangebyscore æ ¹æ®åˆ†å€¼æŸ¥è¯¢ï¼Œmin ,max åŒºé—´å…ƒç´ ï¼Œwithscores æ˜¾ç¤ºåˆ†å€¼ ,limit é¡µæ•° count å±•ç¤ºæ•°é‡ï¼Œåˆ†é¡µæ˜¾ç¤º</p>
<pre><code>zrangebyscore key min max [withscores] [limit offset count]
</code></pre>
<h3 id="-10"></h3>
<p>zrank è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šæˆå‘˜çš„ç´¢å¼•ï¼ˆä¸‹æ ‡ï¼‰</p>
<pre><code>zrank key member
</code></pre>
<h3 id="-11"></h3>
<p>zrevrange å°†é›†åˆååº[reverse] ä¹‹åæ‰§è¡Œzrange è¿”å›ï¼š</p>
<pre><code>zrevrange key start stop [withscores]
</code></pre>
<h3 id="-12"></h3>
<p>zrevrangebylex</p>
<p>ç»“åˆzrangebylexå’ŒzrevrangeåŠŸèƒ½ã€‚ååºé€šè¿‡å­—å…¸åŒºé—´è¿”å›æœ‰åºé›†åˆçš„æˆå‘˜ï¼š</p>
<pre><code>zrevrangebylex key max min [limit offset count]
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[redis æ•°æ®ç»“æ„ set]]></title>
        <id>https://gridea.drj.io/post/redis-shu-ju-jie-gou-set/</id>
        <link href="https://gridea.drj.io/post/redis-shu-ju-jie-gou-set/">
        </link>
        <updated>2021-04-07T01:41:36.000Z</updated>
        <content type="html"><![CDATA[<p>å¢åŠ å…ƒç´ <br>
å¯ä»¥å¢åŠ è‹¥å¹²ä¸ªå…ƒç´ çš„set é›†åˆ</p>
<pre><code> SADD key member [member ...]
  summary: Add one or more members to a set
  since: 1.0.0
</code></pre>
<p>è·å–é›†åˆä¸­å…ƒç´ çš„æ•°é‡</p>
<pre><code>  SCARD key
  summary: Get the number of members in a set
  since: 1.0.0
</code></pre>
<p>è·å–å·®é›†<br>
å¯¹æ¯”å¤šä¸ªé›†åˆçš„å·®é›†ï¼Œè¿”å›å·¦ä¾§é›†åˆä¸­ï¼Œå…¶ä»–é›†åˆä¸­æ²¡æœ‰çš„å…ƒç´  æœ‰ç‚¹åƒæ˜¯<br>
(A-Aâˆ©B...C) å–é›†åˆAä¸­å’Œå…¶ä»–é›†åˆç›¸äº¤éƒ¨åˆ†çš„å…ƒç´ åçš„å·®é›†</p>
<pre><code>sdiff key [key ...]
summary: Subtract multiple sets
since: 1.0.0
</code></pre>
<p>è·å–å·®é›†ï¼Œå¹¶ä¸”ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„é›†åˆä¸­ï¼ˆä¸»è¦è¿˜æ˜¯Aé›†åˆä¸ºä¸»ï¼‰</p>
<pre><code>  sdiffstore destination key [key ...]
  summary: Subtract multiple sets and store the resulting set in a key
  since: 1.0.0
</code></pre>
<p>è·å–å¤šä¸ªé›†åˆäº¤é›†éƒ¨åˆ†çš„å…ƒç´ </p>
<pre><code>sinter key [key ...]
summary: Intersect multiple sets
since: 1.0.0
</code></pre>
<p>è·å–å¤šä¸ªé›†åˆäº¤æ˜“éƒ¨åˆ†çš„å…ƒç´ å¹¶ä¸”ä¿å­˜åˆ°ä¸€ä¸ªæ–°çš„é›†åˆä¸­</p>
<pre><code>sinterstore destination key [key ...]
summary: Intersect multiple sets and store the resulting set in a key
since: 1.0.0
</code></pre>
<p>æŸ¥çœ‹é›†åˆä¸­æ˜¯å¦åŒ…å«è¯¥å…ƒç´ </p>
<pre><code>  SISMEMBER key member
  summary: Determine if a given value is a member of a set
  since: 1.0.0
</code></pre>
<p>æŸ¥çœ‹é›†åˆä¸­å…ƒç´ </p>
<pre><code> smembers key
 summary: Get all the members in a set
 since: 1.0.0
</code></pre>
<p>å°†å…ƒç´ ä»åŸæ¥çš„é›†åˆä¸­è½¬ç§»åˆ° ç›®æ ‡é›†åˆä¸­</p>
<pre><code>  smove source destination member
  summary: Move a member from one set to another
  since: 1.0.0
</code></pre>
<p>éšæœºå¼¹å‡º count ä¸ªå…ƒç´ </p>
<pre><code>spop key [count]
summary: Remove and return one or multiple random members from a set
since: 1.0.0
</code></pre>
<p>éšæœºè·å– count æ•°é‡ä¸ªå…ƒç´ </p>
<pre><code>srandmenber key [count]
summary: Get one or multiple random members from a set
since: 1.0.0
</code></pre>
<p>ä»é›†åˆä¸­åˆ é™¤ ä¸€ä¸ªæˆ–è€…å¤šä¸ªæŒ‡å®šå…ƒç´ </p>
<pre><code>  srem key member [member ...]
  summary: Remove one or more members from a set
  since: 1.0.0
</code></pre>
<p>sscan è¿”å›åŒ¹é… pattern çš„ count æ•°é‡çš„å…ƒç´ </p>
<p>åªæœ‰ä¸¤ç§æ¸¸æ ‡æ˜¯åˆæ³•çš„ï¼š</p>
<pre><code>åœ¨å¼€å§‹ä¸€ä¸ªæ–°çš„è¿­ä»£æ—¶ï¼Œ æ¸¸æ ‡å¿…é¡»ä¸º 0 ã€‚
å¢é‡å¼è¿­ä»£å‘½ä»¤åœ¨æ‰§è¡Œä¹‹åè¿”å›çš„ï¼Œ ç”¨äºå»¶ç»­ï¼ˆcontinueï¼‰è¿­ä»£è¿‡ç¨‹çš„æ¸¸æ ‡ã€‚
</code></pre>
<pre><code> sscan key cursor [MATCH pattern] [COUNT count]
 summary: Incrementally iterate Set elements
 since: 2.8.0
 sscan myset0 0 match  n*
</code></pre>
<p>å–å¤šä¸ªé›†åˆçš„å¹¶é›†ï¼Œé‡å¤çš„ä¼šè¢«å»é‡</p>
<pre><code>  sunion key [key ...]
  summary: Add multiple sets
  since: 1.0.0
</code></pre>
<p>å–å¤šä¸ªé›†åˆçš„å¹¶é›†ï¼Œå»é‡åï¼Œä¿å­˜ä¸ºä¸€ä¸ªæ–°çš„é›†åˆ</p>
<pre><code>  sunionstore destination key [key ...]
  summary: Add multiple sets and store the resulting set in a key
  since: 1.0.0
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[redis æ•°æ®ç»“æ„ list  ]]></title>
        <id>https://gridea.drj.io/post/redis-shu-ju-jie-gou-list/</id>
        <link href="https://gridea.drj.io/post/redis-shu-ju-jie-gou-list/">
        </link>
        <updated>2021-04-06T07:04:49.000Z</updated>
        <content type="html"><![CDATA[<p>###help æŸ¥çœ‹ç›¸å…³å‘½ä»¤æ‰‹å†Œ</p>
<pre><code>help @list
</code></pre>
<p>æŸ¥çœ‹å…ƒç´ </p>
<pre><code> lrange key start stop
</code></pre>
<p>å¢åŠ <br>
lpush ä»å·¦è¾¹æ’å…¥å…ƒç´ ï¼Œä»å·¦è¾¹ä¸€æ¬¡è¿½åŠ å…¥æ ˆï¼Œå…ˆè¿›åå‡ºï¼Œåè¿›å…ˆå‡º</p>
<pre><code>lpush key element [element ...]
</code></pre>
<p>rpush<br>
ä»å³è¾¹æ’å…¥å…ƒç´ ï¼Œä»å³è¾¹å¼€å§‹è¿½åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œå…ˆè¿›å…ˆå‡º ï¼Œåè¿›åå‡º</p>
<pre><code>rpush key element [element ...]
</code></pre>
<p>lpushx<br>
ä¸ string ç±»å‹ä¸­çš„nx ç±»ä¼¼ï¼Œåªæœ‰å½“list å­˜åœ¨æ—¶å€™æ‰ä¼šä»å·¦è¾¹å¼€å§‹è¿½åŠ å…ƒç´ å…¥æ ˆï¼š</p>
<pre><code>lpushx key element [element ...]
</code></pre>
<p>rpushx<br>
ä¸string ç±»å‹ä¸­çš„nx ç±»ä¼¼ï¼Œåªæœ‰å½“list å­˜åœ¨æ—¶å€™æ‰ä¼šä»å³è¾¹å¼€å§‹è¿½åŠ å…ƒç´ å…¥æ ˆï¼š</p>
<pre><code>rpushx key element [element ...]
</code></pre>
<p>linsert<br>
ä» list ä¸­æŒ‡å®šçš„å…ƒç´  å‰/åæ’å…¥ä¸€ä¸ªæ–°å…ƒç´ :</p>
<pre><code>linsert key before|after pivot element
</code></pre>
<p>åˆ <br>
lrem<br>
ä»åˆ—è¡¨å·¦ä¾§å¼€å§‹ç§»é™¤count ä¸ª æŒ‡å®šçš„å…ƒç´  ï¼Œè¿”å›åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</p>
<pre><code>lrem key count element
</code></pre>
<p>æ”¹<br>
lset<br>
æ ¹æ®ä¸‹æ ‡ä¿®æ”¹å…ƒç´ å†…å®¹ï¼Œä¸‹æ ‡æ˜¯ä» å·¦è¾¹ç®—èµ·ï¼Œä»¥ 0 å¼€å§‹ï¼š</p>
<pre><code>lset  key index element
</code></pre>
<p>æˆªå–<br>
ltrim<br>
å°†åŸæ¥åˆ—è¡¨æˆªå–ä¸ºä»ä¸‹æ ‡ start åˆ°ä¸‹æ ‡ stop é—­åŒºé—´çš„åˆ—è¡¨ï¼Œå³åŸæœ‰åˆ—è¡¨å˜ä¸ºä¸€ä¸ªä»ç¬¬ start+1 åˆ° ç¬¬stop+1 ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼š</p>
<pre><code>ltrim key start stop
</code></pre>
<p>æŸ¥<br>
llen<br>
æŸ¥çœ‹åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°</p>
<pre><code>llen key
</code></pre>
<p>lrange</p>
<p>æ ¹æ®èµ·æ­¢ä¸‹æ ‡æŸ¥è¯¢åˆ—è¡¨å…ƒç´ ï¼Œè´Ÿæ•°è¡¨ç¤ºä»åå¾€å‰ï¼Œè·Ÿpythoné‡Œä¸€æ ·ï¼š</p>
<pre><code>    lrange key start stop
     
    lrange key 0 -1 #è¡¨ç¤ºæŸ¥çœ‹å…¨éƒ¨å…ƒç´ 
    lrange key -1 -1 #è¡¨ç¤ºæŸ¥çœ‹æœ€å³è¾¹çš„å…ƒç´ 
</code></pre>
<p>lindex</p>
<p>æ ¹æ®æŒ‡å®šçš„indexä¸‹æ ‡æŸ¥çœ‹åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œä¸‹æ ‡ä»0å¼€å§‹ï¼š</p>
<pre><code>lindex key index
</code></pre>
<p>lpop</p>
<p>ä»å·¦è¾¹æ¶ˆè´¹åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œæ¶ˆè´¹å®Œä¹‹åä»åˆ—è¡¨ä¸­åˆ é™¤ï¼š</p>
<pre><code>lpop key
</code></pre>
<p>rpop</p>
<p>ä»å³è¾¹æ¶ˆè´¹åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œæ¶ˆè´¹å®Œä¹‹åä»åˆ—è¡¨ä¸­åˆ é™¤ï¼š</p>
<pre><code>rpop key
</code></pre>
<p>rpoplpush</p>
<p>æ¶ˆè´¹åˆ—è¡¨Açš„æœ€å³è¾¹çš„å…ƒç´ è¿”å›ï¼Œç„¶åè¿½åŠ åˆ°åˆ—è¡¨Bçš„æœ€å·¦è¾¹ï¼š</p>
<pre><code>    rpoplpush source destination
    rpoplpush List_A List_B
</code></pre>
<p>blpop</p>
<p>ä»åˆ—è¡¨ä¸­å·¦ä¾§æŸ¥è¯¢å…ƒç´ ï¼Œè¿”å›åˆ—è¡¨çš„keyå’Œå·¦ä¾§ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè‹¥æ‰€æœ‰æŸ¥è¯¢çš„åˆ—è¡¨ä¸­éƒ½æ²¡æœ‰å…ƒç´ ï¼Œåˆ™ä¼šé˜»å¡ç­‰å¾…è‡³è®¾ç½®çš„timeoutç§’ä¹‹åè¿”å›ç©ºï¼Œè‹¥åœ¨è¿™æœŸé—´ï¼Œè¿™äº›åˆ—è¡¨æ–°å¢äº†å…ƒç´ ï¼Œåˆ™ä¼šç«‹åˆ»æ¶ˆè´¹å¹¶è¿”å›è¯¥å…ƒç´ ï¼š</p>
<pre><code>blpop key [key ...] timeout
</code></pre>
<p>brpop</p>
<p>ä¸blpopç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯brpopä»å³ä¾§æ¶ˆè´¹ï¼š</p>
<pre><code>brpop key [key ...] timeout
</code></pre>
<p>brpoplpush</p>
<p>ç»“åˆbrpopå’Œlpushï¼Œé˜»å¡æ¶ˆè´¹å¹¶å°†æ¶ˆè´¹åˆ°çš„å…ƒç´ æ·»åŠ è‡³targetåˆ—è¡¨çš„æœ€å·¦ä¾§ï¼š</p>
<pre><code>brpoplpush source destination timeout
</code></pre>
<p>åº”ç”¨<br>
æ ˆï¼šå…ˆè¿›åå‡º</p>
<p>lpush + lpop<br>
lpush å°†æ–°è¿›çš„å…ƒç´ æ”¾åˆ°åˆ—è¡¨å·¦ä¾§ï¼Œlpop ä»å·¦ä¾§ç¬¬ä¸€ä¸ªå…ƒç´ å‡ºæ ˆ</p>
<p>é˜Ÿåˆ—ï¼šå…ˆè¿›å…ˆå‡º<br>
lpush + rpop<br>
å°†æ–°è¿›çš„å…ƒç´ æ”¾åˆ°å·¦ä¾§ï¼Œç„¶åä»å³ä¾§å‡ºæ ˆä¹‹å‰çš„å…ƒç´ </p>
<p>æœ‰é™é›†åˆ<br>
lpush + ltrim<br>
å°†æ–°è¿›çš„å…ƒç´ å¾€å·¦ä¾§è¿½åŠ ï¼Œæˆªå–å›ºå®šä¸‹æ ‡çš„å…ƒç´ ï¼Œé‡æ–°ç”Ÿæˆæ–°çš„åˆ—è¡¨</p>
<p>æ¶ˆæ¯é˜Ÿåˆ—<br>
lpush + brpop<br>
æ–°å…ƒç´ è¿½åŠ åˆ°å·¦ä¾§ï¼ŒæŸ¥çœ‹è¶…æ—¶æ—¶é—´ï¼Œä»å³ä¾§å‡ºæ ˆ</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[redis æ•°æ®ç±»å‹ä¹‹å­—ç¬¦ä¸² String]]></title>
        <id>https://gridea.drj.io/post/redis-shu-ju-lei-xing-zhi-zi-fu-chuan-string/</id>
        <link href="https://gridea.drj.io/post/redis-shu-ju-lei-xing-zhi-zi-fu-chuan-string/">
        </link>
        <updated>2021-04-01T05:58:58.000Z</updated>
        <content type="html"><![CDATA[<p>###å‘½ä»¤è¡Œæ¨¡å¼<br>
è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼š</p>
<pre><code>redis_cli -a password  --raw
--raw é˜²æ­¢ä¹±ç 
</code></pre>
<h3 id="help">help</h3>
<p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹æ‰‹å†Œï¼š<br>
help @string</p>
<p>###exists</p>
<p>æŸ¥çœ‹keyæ˜¯å¦å­˜åœ¨ï¼Œè¿”å›true / false, 1/0</p>
<p>exists key</p>
<p>###å¢åŠ <br>
set</p>
<p>set,setex,psetex,setnx</p>
<pre><code>#exä¸ºå¤šå°‘ç§’è¿‡æœŸ pxä¸ºå¤šå°‘æ¯«ç§’è¿‡æœŸï¼Œnxä¸ºè‹¥ä¸å­˜åœ¨æ‰åˆ›å»ºï¼Œxxä¸ºè‹¥å­˜åœ¨æ‰è¦†ç›–åˆ›å»º
set key value [ex seconds] [px milliseconds] [nx|xx]
</code></pre>
<p>ä½¿ç”¨setå‘½ä»¤æ–°å¢ä¸€ä¸ªé”®å€¼å¯¹ï¼ŒEX,PXç”¨æ³•ï¼š</p>
<pre><code>127.0.0.1:6379&gt; set name ç‹ä¹‰å‡¯
OK
127.0.0.1:6379&gt; get name
&quot;\xe7\x8e\x8b\xe4\xb9\x89\xe5\x87\xaf&quot;   
127.0.0.1:6379&gt; set name wang,yikai
OK
127.0.0.1:6379&gt; get name
&quot;wang,yikai&quot;
127.0.0.1:6379&gt; set name_ex wyk ex 10
OK
127.0.0.1:6379&gt; ttl name_ex
(integer) 2
127.0.0.1:6379&gt; ttl name_ex
(integer) -2
127.0.0.1:6379&gt; get name_ex
(nil)
127.0.0.1:6379&gt; set name_px wyk px 10000
OK
127.0.0.1:6379&gt; ttl name_px
(integer) 4
127.0.0.1:6379&gt; ttl name_px
(integer) 0
127.0.0.1:6379&gt; get name_px
(nil)
127.0.0.1:6379&gt; setex name_ex 10 wyk
OK
127.0.0.1:6379&gt; ttl name_ex
(integer) 3
127.0.0.1:6379&gt; ttl name_ex
(integer) 0
127.0.0.1:6379&gt; get name_ex
(nil)
127.0.0.1:6379&gt; psetex name_px 10000 wyk
OK
127.0.0.1:6379&gt; ttl name_px
(integer) 3
127.0.0.1:6379&gt; ttl name_px
(integer) -2
127.0.0.1:6379&gt; get name_px
(nil)
</code></pre>
<p>SETä¸­ NX,XXç”¨æ³•ï¼š</p>
<pre><code>127.0.0.1:6379&gt; set name_csdn wyk
OK
127.0.0.1:6379&gt; get name_csdn
&quot;wyk&quot;
127.0.0.1:6379&gt; set name_csdn wyk2
OK
127.0.0.1:6379&gt; get name_csdn
&quot;wyk2&quot;
127.0.0.1:6379&gt; set name_nx wyk nx
OK
127.0.0.1:6379&gt; get name_nx
&quot;wyk&quot;
127.0.0.1:6379&gt; set name_nx wyk2 nx
(nil)
127.0.0.1:6379&gt; get name_nx
&quot;wyk&quot;
127.0.0.1:6379&gt; setnx name_nx wyk2
(integer) 0
127.0.0.1:6379&gt; get name_nx
&quot;wyk&quot;
127.0.0.1:6379&gt; set name_xx wyk xx
(nil)
127.0.0.1:6379&gt; get name_xx
(nil)
127.0.0.1:6379&gt; set name_xx wyk
OK
127.0.0.1:6379&gt; get name_xx
&quot;wyk&quot;
127.0.0.1:6379&gt; set name_xx wyk2 xx
OK
127.0.0.1:6379&gt; get name_xx
&quot;wyk2&quot;
</code></pre>
<p>mset</p>
<p>mset,msetnx</p>
<p>åŒæ—¶å®šä¹‰å¤šä¸ªé”®å€¼å¯¹,msetä¹Ÿå¯ä»¥å’Œnxä¸€èµ·ç”¨ï¼š</p>
<pre><code>mset key1 value1 [key2 value2...] #æ‰¹é‡åˆ›å»ºkvï¼Œå·²å­˜åœ¨çš„ä¼šè¢«æ›´æ–°
msetnx key1 value1 [key2 value2...] #æ‰¹é‡åˆ›å»ºkvï¼Œæ‰€æœ‰keyä¸å­˜åœ¨æ‰ä¼šåˆ›å»º

127.0.0.1:6379&gt; mset k1 a k2 b k3 c
OK
127.0.0.1:6379&gt; mget k1 k2 k3
1) &quot;a&quot;
2) &quot;b&quot;
3) &quot;c&quot;
</code></pre>
<p>åˆ <br>
del</p>
<p>ä½¿ç”¨delå‘½ä»¤åˆ é™¤æ•°æ®ï¼Œå¯æ‰¹é‡å¯å•ä¸ªåˆ é™¤ï¼š</p>
<p>del key1 [key2 key3...]</p>
<pre><code>127.0.0.1:6379&gt; del k1 k2 k3
(integer) 3
127.0.0.1:6379&gt; del name_xx
(integer) 1
127.0.0.1:6379&gt; mget k1 k2 k3 name_xx name_nx
1) (nil)
2) (nil)
3) (nil)
4) (nil)
5) &quot;wyk&quot;
</code></pre>
<p>æ”¹<br>
set</p>
<p>ä¸Šé¢setä¸­ä»‹ç»äº†ï¼Œå¦‚æœå¯¹åŒä¸€ä¸ªkeyè¿›è¡Œsetå³å¯æ›´æ–°è¯¥æ•°æ®ï¼š</p>
<pre><code>127.0.0.1:6379&gt; set email wyk@csdn.com
OK
127.0.0.1:6379&gt; get email
&quot;wyk@csdn.com&quot;
127.0.0.1:6379&gt; set email rick@csdn.com
OK
127.0.0.1:6379&gt; get email
&quot;rick@csdn.com&quot;
</code></pre>
<p>getset</p>
<p>ç­‰åŒäºget+setï¼Œæ‰§è¡Œæ­¤å‘½ä»¤è¿”å›getçš„ç»“æœï¼Œç„¶åå°†è¯¥keyæ›´æ–°ä¸ºæ–°çš„valueï¼Œä¸‹æ¬¡å†getçš„æ—¶å€™æŸ¥åˆ°çš„å°±æ˜¯æ–°çš„valueï¼š</p>
<pre><code>getset key new_value
&gt;&gt;old_value
get key
&gt;&gt;new_value
</code></pre>
<p>setrange</p>
<p>å¯¹æŒ‡å®šä¸‹æ ‡çš„å­—ç¬¦ä¸²è¿›è¡Œæ›´æ–°ï¼Œä¸‹æ ‡ä»0å¼€å§‹ç®—èµ·ï¼š</p>
<p>setrange key offeset value</p>
<p>æŸ¥<br>
keys</p>
<p>æŸ¥çœ‹æ‰€æœ‰çš„key</p>
<p>keys *</p>
<p>get</p>
<p>ä½¿ç”¨getè·å¾—æŒ‡å®škeyçš„value</p>
<p>get key</p>
<p>mget</p>
<p>ä½¿ç”¨mgetæ‰¹é‡è·å¾—æŒ‡å®škeysçš„values</p>
<p>mget key1 [key2 key3...]</p>
<p>getrange</p>
<p>ä»å­—ç¬¦ä¸²çš„æŒ‡å®šå¼€å§‹ç»“æŸä¸‹æ ‡æˆªå–å­—ç¬¦ä¸²è¿”å›ï¼Œä¸‹æ ‡ä»0å¼€å§‹ç®—èµ·ï¼š</p>
<p>getrange key start end</p>
<p>è®¡æ•°<br>
incr</p>
<p>å¯¹æŒ‡å®šçš„keyçš„valueåŠ 1ï¼Œé€’å¢æ­¥é•¿é»˜è®¤1ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå…¶åˆå§‹å€¼ä¸º0ï¼Œåœ¨incrä¹‹åå…¶å€¼ä¸º1ï¼Œå¦‚æœvalueçš„å€¼ä¸èƒ½è½¬ä¸ºæ•´å‹ï¼Œå¦‚helloï¼Œè¯¥æ“ä½œå°†æ‰§è¡Œå¤±è´¥å¹¶è¿”å›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<p>incr key</p>
<p>decr</p>
<p>å¯¹æŒ‡å®šçš„keyçš„valueå‡1ï¼Œé€’å‡æ­¥é•¿é»˜è®¤1ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå…¶åˆå§‹å€¼ä¸º0ï¼Œåœ¨decrä¹‹åå…¶å€¼ä¸º-1ï¼Œå¦‚æœvalueçš„å€¼ä¸èƒ½è½¬ä¸ºæ•´å‹ï¼Œå¦‚helloï¼Œè¯¥æ“ä½œå°†æ‰§è¡Œå¤±è´¥å¹¶è¿”å›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<p>decr key</p>
<p>incrby</p>
<p>å¯¹æŒ‡å®šçš„keyçš„valueåŠ æŒ‡å®šçš„æ­¥é•¿ï¼Œé€’å¢æ­¥é•¿å¯æŒ‡å®šï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå…¶åˆå§‹å€¼ä¸º0ï¼Œåœ¨incrbyä¹‹åå…¶å€¼ä¸ºæ­¥é•¿ï¼Œå¦‚æœvalueçš„å€¼ä¸èƒ½è½¬ä¸ºæ•´å‹ï¼Œå¦‚helloï¼Œè¯¥æ“ä½œå°†æ‰§è¡Œå¤±è´¥å¹¶è¿”å›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code>#æ­¥é•¿incrementä¸ºæ•´æ•°ï¼Œå½“ä¸ºè´Ÿæ•°æ—¶æ•ˆæœç­‰äºé€’å‡
incrby key increment
</code></pre>
<p>decrby</p>
<p>å¯¹æŒ‡å®šçš„keyçš„valueå‡æŒ‡å®šçš„æ­¥é•¿ï¼Œé€’å‡æ­¥é•¿å¯æŒ‡å®šï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œå…¶åˆå§‹å€¼ä¸º0ï¼Œåœ¨decrbyä¹‹åå…¶å€¼ä¸ºæ­¥é•¿çš„è´Ÿæ•°ï¼Œå¦‚æœvalueçš„å€¼ä¸èƒ½è½¬ä¸ºæ•´å‹ï¼Œå¦‚helloï¼Œè¯¥æ“ä½œå°†æ‰§è¡Œå¤±è´¥å¹¶è¿”å›ç›¸åº”çš„é”™è¯¯ä¿¡æ¯ï¼š</p>
<pre><code>#æ­¥é•¿incrementä¸ºæ•´æ•°ï¼Œå½“ä¸ºè´Ÿæ•°æ—¶æ•ˆæœç­‰äºé€’å¢—
decrby key increment
</code></pre>
<p>incrbyfloat<br>
æ•ˆæœä¸incrbyç±»ä¼¼ï¼Œæ­¤æ–¹æ³•æ”¯æŒä¼ æµ®ç‚¹å‹çš„å€¼ï¼Œæ­£æ•°ä¸ºå¢ï¼Œè´Ÿæ•°ä¸ºå‡</p>
<p>è¿½åŠ <br>
append</p>
<p>åœ¨å­—ç¬¦ä¸²æœ€åé¢è¿½åŠ å­ä¸²ï¼š</p>
<p>append key value</p>
<p>é•¿åº¦<br>
strlen</p>
<p>è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š</p>
<p>strlen key</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[redis 6.0.6 å®‰è£…]]></title>
        <id>https://gridea.drj.io/post/redis-606-an-zhuang/</id>
        <link href="https://gridea.drj.io/post/redis-606-an-zhuang/">
        </link>
        <updated>2021-03-30T08:17:22.000Z</updated>
        <content type="html"><![CDATA[<h3 id="ä¸‹è½½redis-å®‰è£…åŒ…">ä¸‹è½½redis å®‰è£…åŒ…</h3>
<p>æœ€å¥½å®šä¹‰ä¸€ä¸ªdownload ç›®å½•ï¼Œä¸‹è½½æ—¶å€™å…ˆæ”¾å…¥è¿™ä¸ªç›®å½•ä¸‹</p>
<pre><code>linux å‘½ä»¤ï¼šwget http://download.redis.io/releases/redis-6.0.6.tar.gz
</code></pre>
<h3 id="è§£å‹redisæ–‡ä»¶">è§£å‹redisæ–‡ä»¶</h3>
<pre><code>è§£å‹
tar -zxvf  redis-6.0.6.tar.gz 
</code></pre>
<h3 id="åˆ›å»ºå®‰è£…ç›®å½•">åˆ›å»ºå®‰è£…ç›®å½•</h3>
<pre><code>cd usr/local
mkdir redis
</code></pre>
<h3 id="æ‰§è¡Œå®‰è£…">æ‰§è¡Œå®‰è£…</h3>
<pre><code>make MALLOC=libc
</code></pre>
<p>å¤‡æ³¨ï¼šå¯èƒ½é‡åˆ°é—®é¢˜<br>
make[1]: *** [server.o] Error 1<br>
éœ€è¦è¿›è¡Œå‡çº§gcc ç‰ˆæœ¬ ï¼ŒæŸ¥è¯¢gcc ç‰ˆæœ¬  gcc -v</p>
<pre><code>yum -y install centos-release-scl

yum -y install devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils

#è¿™å¥æ˜¯ä¸´æ—¶çš„
scl enable devtoolset-9 bash

#ä¿®æ”¹ç¯å¢ƒå˜é‡
echo &quot;source /opt/rh/devtoolset-9/enable&quot; &gt;&gt; /etc/profile

gcc -v
</code></pre>
<p>make test tcl æœªå®‰è£…ï¼š</p>
<pre><code>#ä¸‹è½½ tcl
wget https://nchc.dl.sourceforge.net/project/tcl/Tcl/8.6.8/tcl8.6.8-src.tar.gz

#è§£å‹
tar xzvf tcl8.6.8-src.tar.gz 

#åˆ›å»ºæ–‡ä»¶å¤¹
mkdir /usr/local/tcl8.6.8

#è¿›å…¥å®‰è£…ç›®å½•
cd /usr/lcoal/tcl8.6.8

#ç”ŸæˆMakefile
cd unix 
./configure

#ç¼–è¯‘ã€å®‰è£…
make  
make install
</code></pre>
<p>###æ‰§è¡Œå®‰è£…å‘½ä»¤</p>
<pre><code>make PREFIX=/usr/local/redis install

æ‰§è¡Œå®Œå‘½ä»¤éœ€è¦ä¿®æ”¹ /usr/local/redis/utils/redis_init_script è¿™ä¸ªæ–‡ä»¶

EXEC=/usr/local/redis/bin/redis-server
CLIEXEC=/usr/local/redis/bin/redis-cli
</code></pre>
<p>####è¯´æ˜ï¼š</p>
<pre><code>è¿™é‡Œå¤šäº†ä¸€ä¸ªå…³é”®å­— PREFIX=
è¿™ä¸ªå…³é”®å­—çš„ä½œç”¨æ˜¯ç¼–è¯‘çš„æ—¶å€™ç”¨äºæŒ‡å®šç¨‹åºå­˜æ”¾çš„è·¯å¾„ã€‚æ¯”å¦‚æˆ‘ä»¬ç°åœ¨å°±æ˜¯æŒ‡å®šäº†rediså¿…é¡»å­˜æ”¾åœ¨/usr/local/redisç›®å½•ã€‚å‡è®¾ä¸æ·»åŠ è¯¥å…³é”®å­—Linuxä¼šå°†å¯æ‰§è¡Œæ–‡ä»¶å­˜æ”¾åœ¨/usr/local/binç›®å½•ï¼Œ
åº“æ–‡ä»¶ä¼šå­˜æ”¾åœ¨/usr/local/libç›®å½•ã€‚é…ç½®æ–‡ä»¶ä¼šå­˜æ”¾åœ¨/usr/local/etcç›®å½•ã€‚å…¶ä»–çš„èµ„æºæ–‡ä»¶ä¼šå­˜æ”¾åœ¨usr/local/shareç›®å½•ã€‚è¿™é‡ŒæŒ‡å®šå·ç›®å½•ä¹Ÿæ–¹ä¾¿åç»­çš„å¸è½½ï¼Œåç»­ç›´æ¥rm
-rf /usr/local/redis å³å¯åˆ é™¤redisã€‚

</code></pre>
<p>###make test è¿‡ç¨‹ä¸­å‡ºç°çš„æœ€ä¸¥é‡çš„é—®é¢˜<br>
make test of redis6.0 on centos8</p>
<p>[exception]: Executing test client: tail: cannot open â€˜+31â€™ for reading: No such file or directory.<br>
tail: cannot open â€˜+31â€™ for reading: No such file or directory<br>
while executing</p>
<p>è¿™æ˜¯æ–°ç‰ˆæœ¬çš„ä¸€ä¸ªbugï¼Œåœ°å€ï¼šhttps://github.com/redis/redis/issues/7552</p>
<p>ä¿®å¤æ–¹æ³•ï¼š</p>
<pre><code>tests/support/util.tcl
@@ -119,7 +119,7 @@ proc wait_for_log_message {srv_idx pattern from_line maxtries delay} {
    set retry $maxtries
    set stdout [srv $srv_idx stdout]
    while {$retry} {
 --       set result [exec tail +$from_line &lt; $stdout]
 ++     set result [exec tail -n +$from_line &lt; $stdout]
        set result [split $result &quot;\n&quot;]
        foreach line $result {
            if {[string match $pattern $line]} {
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://gridea.drj.io/post/hello-gridea/</id>
        <link href="https://gridea.drj.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>